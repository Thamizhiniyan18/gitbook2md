# gitbook2md

`gitbook2md` is a command-line tool designed to convert [GitBook](https://www.gitbook.com/) Flavored Markdown, typically obtained via GitBook's [Git-Sync](https://www.gitbook.com/solutions/git-sync)—a feature for synchronizing GitBook content with GitHub or GitLab—into standard Markdown syntax. The tool processes all Markdown files in a repository, replacing GitBook-specific templates with standard Markdown. It then consolidates the Markdown files and their associated assets into a single folder, resulting in a more organized repository compatible with all Markdown renderers.

---

## Getting Started

### Downloading from the latest release

- You can download the latest pre-built ELF binary from the official releases page: [GitHub Releases - gitbook2md](https://github.com/Thamizhiniyan18/gitbook2md/releases).

### Building it from source code

- To compile and build `gitbook2md` from the source code, you need to have Rust installed. You can install Rust by following the instructions in the official documentation: [Install Rust](https://www.rust-lang.org/tools/install).

- Clone the repository or download the source code from github.
    ```bash
    git clone https://github.com/Thamizhiniyan18/gitbook2md.git
    ```

- Navigate to the cloned repository and build the binary using the following commands:
    ```bash
    cd gitbook2md
    cargo build --release
    ```

- After the build process completes, you can find the binary in the target/release/ directory.
    ```
    ./target/release/gitbook2md
    ```

### Usage

- You can access the help menu using `gitbook2md --help`.

    ![Output of `gitbook2md --help`.](assets/Pasted_image.png)

- `gitbook2md` requires two arguments:  
  1. **Source Directory**: The root of your repository, typically obtained using Git-Sync.  
  2. **Output Directory**: The destination where the modified Markdown files and associated assets will be generated.

    ```bash
    ./gitbook2md -s /path/to/source/directory -o /path/to/output/directory
    ```

    ![Output of `gitbook2md`.](assets/Pasted_image_(2).png)

---

## Key Features

### Moving Assets

`gitbook2md` creates a directory in the output directory for each Markdown file found in the source directory. Each directory is named after the corresponding Markdown file, maintaining the original file structure from the source directory.  

Inside each of these directories, an `assets` folder is created. All assets referenced in the Markdown file (e.g., images) are moved to this `assets` folder. The tool also updates the asset references in the modified Markdown file to reflect their new paths.

Here’s an example of how the directory structure might look before and after running gitbook2md:

#### Source Directory

```
./TryHackMeWriteups/
|-- .gitbook
|   `-- assets
|       |-- Untitled\ (1).png
|       |-- Untitled\ (2).png
|       |-- Untitled\ 1\ (1).png
|       |-- Untitled\ 1\ (2).png
|       |-- Untitled\ 1.png
|       |-- Untitled\ 10\ (1).png
|       |-- Untitled\ 10\ (2).png
|       |-- Untitled\ 10.png
|       |-- Untitled\ 11\ (1).png
|       |-- Untitled\ 11\ (2).png
|       |-- Untitled\ 11.png
|       |-- Untitled\ 12\ (1).png
|       |-- Untitled\ 12\ (2).png
|       |-- Untitled\ 12.png
|       |-- Untitled\ 13\ (1).png
|       |-- Untitled\ 13.png
|       |-- Untitled\ 14\ (1).png
|       |-- Untitled\ 14.png
|       |-- Untitled\ 15\ (1).png
|       |-- Untitled\ 15.png
|       |-- Untitled\ 16.png
|       |-- Untitled\ 2\ (1).png
|       |-- Untitled\ 2\ (2).png
|       |-- Untitled\ 2.png
|       |-- Untitled\ 3\ (1).png
|       |-- Untitled\ 3\ (2).png
|       |-- Untitled\ 3.png
|       |-- Untitled\ 4\ (1).png
|       |-- Untitled\ 4\ (2).png
|       |-- Untitled\ 4.png
|       |-- Untitled\ 5\ (1).png
|       |-- Untitled\ 5\ (2).png
|       |-- Untitled\ 5.png
|       |-- Untitled\ 6\ (1).png
|       |-- Untitled\ 6\ (2).png
|       |-- Untitled\ 6.png
|       |-- Untitled\ 7\ (1).png
|       |-- Untitled\ 7\ (2).png
|       |-- Untitled\ 7.png
|       |-- Untitled\ 8\ (1).png
|       |-- Untitled\ 8\ (2).png
|       |-- Untitled\ 8.png
|       |-- Untitled\ 9\ (1).png
|       |-- Untitled\ 9\ (2).png
|       |-- Untitled\ 9.png
|       |-- Untitled.png
|       `-- Viewing_certificate_in_Browser.webm
|-- README.md
|-- SUMMARY.md
`-- machines
    `-- easy
        |-- README.md
        |-- capstone-challenge.md
        |-- simple-ctf.md
        `-- takeover.md
```

#### Output Directory (Generated by gitbook2md)

```
./TryHackMeWriteups_output/
|-- README
|   |-- README.md
|   `-- assets
|-- SUMMARY
|   |-- SUMMARY.md
|   `-- assets
`-- machines
    `-- easy
        |-- README
        |   |-- README.md
        |   `-- assets
        |-- capstone-challenge
        |   |-- assets
        |   |   |-- Untitled_(1).png
        |   |   |-- Untitled_10_(1).png
        |   |   |-- Untitled_11_(1).png
        |   |   |-- Untitled_12_(1).png
        |   |   |-- Untitled_1_(1).png
        |   |   |-- Untitled_2_(1).png
        |   |   |-- Untitled_3_(1).png
        |   |   |-- Untitled_4_(1).png
        |   |   |-- Untitled_5_(1).png
        |   |   |-- Untitled_6_(1).png
        |   |   |-- Untitled_7_(1).png
        |   |   |-- Untitled_8_(1).png
        |   |   `-- Untitled_9_(1).png
        |   `-- capstone-challenge.md
        |-- simple-ctf
        |   |-- assets
        |   |   |-- Untitled_(2).png
        |   |   |-- Untitled_10_(2).png
        |   |   |-- Untitled_11_(2).png
        |   |   |-- Untitled_12_(2).png
        |   |   |-- Untitled_13_(1).png
        |   |   |-- Untitled_14_(1).png
        |   |   |-- Untitled_15_(1).png
        |   |   |-- Untitled_1_(2).png
        |   |   |-- Untitled_2_(2).png
        |   |   |-- Untitled_3_(2).png
        |   |   |-- Untitled_4_(2).png
        |   |   |-- Untitled_5_(2).png
        |   |   |-- Untitled_6_(2).png
        |   |   |-- Untitled_7_(2).png
        |   |   |-- Untitled_8_(2).png
        |   |   `-- Untitled_9_(2).png
        |   `-- simple-ctf.md
        `-- takeover
            |-- assets
            |   |-- Untitled.png
            |   |-- Untitled_1.png
            |   |-- Untitled_10.png
            |   |-- Untitled_11.png
            |   |-- Untitled_12.png
            |   |-- Untitled_13.png
            |   |-- Untitled_14.png
            |   |-- Untitled_15.png
            |   |-- Untitled_16.png
            |   |-- Untitled_2.png
            |   |-- Untitled_3.png
            |   |-- Untitled_4.png
            |   |-- Untitled_5.png
            |   |-- Untitled_6.png
            |   |-- Untitled_7.png
            |   |-- Untitled_8.png
            |   |-- Untitled_9.png
            |   `-- Viewing_certificate_in_Browser.webm
            `-- takeover.md
```

### Replacing Code

Here’s an example of how the Gitbook Code Template might look before and after running gitbook2md:

#### Before

````markdown
{% code lineNumbers="true" %}
```python
def main() {
    print("Hello, world!")
}

main()
```
{% endcode %}
````

#### After

````markdown
```python
def main() {
    print("Hello, world!")
}

main()
```
````

### Replacing Embed URL

Here’s an example of how the Gitbook Embed URL Template might look before and after running gitbook2md:

#### Before

```markdown
{% embed url="https://example.com/example" %}
```

#### After

```markdown
[https://example.com/example](https://example.com/example)
```

### Replacing File Links

Here’s an example of how the Gitbook File Links Template might look before and after running gitbook2md:

#### Before

```markdown
{% file src="../../.gitbook/assets/Screencast_from_2023-08-07_14-27-39.webm" %}
```

#### After

```markdown
[Screencast_from_2023-08-07_14-27-39.webm](assets/Screencast_from_2023-08-07_14-27-39.webm)
```

### Replacing Hints

Here’s an example of how the Gitbook Hints Template might look before and after running gitbook2md:

#### Before

```markdown
{% hint style="info" %}
This is a example hint / note.
{% endhint %}
```

#### After

```markdown
> 
> This is a example hint / note.
```

### Replacing Images

Here’s an example of how the Gitbook Images Template might look before and after running gitbook2md:

#### Before

```markdown
<figure><img src="../../.gitbook/assets/Untitled 1.png" alt=""><figcaption></figcaption></figure>
```

#### After

```markdown
![image](assets/Untitled_1.png)
```

### Replacing Tabs

Here’s an example of how the Gitbook Tabs Template might look before and after running gitbook2md:

#### Before

````markdown
{% tabs %}
{% tab title="Python" %}
```python
def main() {
    print("Hello, world!")
}

main()
```
{% endtab %}

{% tab title="Rust" %}
```rust
fn main() {
    println!("Hello, world!");
}
```
{% endtab %}
{% endtabs %}
````

#### After

````markdown
### Using Python

```python
def main() {
    print("Hello, world!")
}

main()
```

### Using Rust

```rust
fn main() {
    println!("Hello, world!");
}
```
````

---

## Contributions

If you have any questions, issues, suggestions, or improvements, feel free to raise an issue on GitHub.